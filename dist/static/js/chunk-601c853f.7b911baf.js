(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-601c853f"],{"096e":function(e,t,a){},"7a82":function(e,t,a){var i=a("23e7"),s=a("83ab"),l=a("9bf2");i({target:"Object",stat:!0,forced:!s,sham:!s},{defineProperty:l.f})},"944b":function(e,t,a){"use strict";var i=a("096e"),s=a.n(i);s.a},ade3:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("7a82");function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},b0c0:function(e,t,a){var i=a("83ab"),s=a("9bf2").f,l=Function.prototype,n=l.toString,r=/^\s*function ([^ (]*)/,o="name";i&&!(o in l)&&s(l,o,{configurable:!0,get:function(){try{return n.call(this).match(r)[1]}catch(e){return""}}})},b226:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search"},[a("div",{staticClass:"common_hang"},[a("div",{staticClass:"mech"},[e._v("操作人姓名")]),a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("div",{staticClass:"common_hang"},[a("div",{staticClass:"mech"},[e._v("手机号")]),a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),a("div",{staticClass:"common_hang"},[a("div",{staticClass:"mech"},[e._v("用户类型")]),a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.userType,callback:function(t){e.userType=t},expression:"userType"}},e._l(e.getDictList,(function(e){return a("el-option",{key:e.dd_key,attrs:{label:e.dd_value,value:e.dd_key}})})),1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getAgentList(1)}}},[e._v("查询")])],1),a("div",{staticClass:"table_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.getAgentListList,"header-cell-style":{background:"#f8f8f9",color:"#606266"},"highlight-current-row":"",border:""}},[a("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),a("el-table-column",{attrs:{prop:"alipayname",label:"支付宝姓名",width:"130",align:"center"}}),a("el-table-column",{attrs:{prop:"alipayid",label:"支付宝账号",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",width:"130",align:"center"}}),a("el-table-column",{attrs:{prop:"username",label:"操作人",width:"130",align:"center"}}),a("el-table-column",{attrs:{prop:"makedatestr",label:"最后一次操作时间",width:"190",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.customerToAgent(t.row)}}},[e._v("客户转代理人")])]}}])})],1),a("el-pagination",{staticClass:"indexPage",attrs:{background:"","page-size":e.pageSize,"current-page":e.pageNum,layout:"total, prev, pager, next",total:e.pageTotal},on:{"current-change":e.pageClick}})],1),a("el-dialog",{attrs:{title:"",visible:e.dialogFormVisible,"before-close":e.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"dia_from"},[a("div",{staticClass:"two"},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.dia_name,callback:function(t){e.dia_name=t},expression:"dia_name"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.dia_mobile,callback:function(t){e.dia_mobile=t},expression:"dia_mobile"}})],1)],1),a("div",{staticClass:"two"},[a("el-form-item",{attrs:{label:"支付宝姓名"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.alipayname,callback:function(t){e.alipayname=t},expression:"alipayname"}})],1),a("el-form-item",{attrs:{label:"支付宝账号"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.alipayid,callback:function(t){e.alipayid=t},expression:"alipayid"}})],1)],1),a("div",{staticClass:"two"},[a("el-form-item",{attrs:{label:"谁的客户"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.dia_reuserid,callback:function(t){e.dia_reuserid=t},expression:"dia_reuserid"}})],1),a("el-form-item",{attrs:{label:"用户类型"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.dia_usertype,callback:function(t){e.dia_usertype=t},expression:"dia_usertype"}},e._l(e.getDictList,(function(e){return a("el-option",{key:e.dd_key,attrs:{label:e.dd_value,value:e.dd_key}})})),1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.sureAdd}},[e._v("确 定")])],1)],1)],1)},s=[],l=(a("b0c0"),a("ade3")),n=a("4ec3"),r={data:function(){var e;return e={getDictList:"",name:"",mobile:"",userType:"",addhtmlcontent:"",getAgentListList:[],dialogFormVisible:!1,alipayname:"",alipayid:"",dia_mobile:"",dia_name:"",dia_reuserid:"",dia_usertype:"",dia_userid:""},Object(l["a"])(e,"dia_userid",""),Object(l["a"])(e,"pageTotal",0),Object(l["a"])(e,"pageSize",10),Object(l["a"])(e,"pageNum",1),Object(l["a"])(e,"currentRow",null),e},created:function(){this.getAgentList(1),this.getDict()},methods:{getDict:function(){var e=this,t={userToken:sessionStorage.getItem("token"),dict_type:"usertype"};Object(n["getDict"])(t).then((function(t){"1"==t.code?that.$message({type:"error",duration:3e3,message:t.msg}):e.getDictList=t}))},getAgentList:function(e){var t=this,a=this,i={userToken:sessionStorage.getItem("token"),usertype:"",mobile:this.mobile,name:this.name,pageNumber:e,pageSize:this.pageSize};Object(n["getAgentList"])(i).then((function(e){"1"==e.code?a.$message({type:"error",duration:3e3,message:e.msg}):(t.getAgentListList=e.rows,t.pageTotal=e.total)}))},sureAdd:function(){var e=this;if(""==this.dia_userid){var t={userToken:sessionStorage.getItem("token"),alipayname:this.alipayname,alipayid:this.alipayid,mobile:this.dia_mobile,name:this.dia_name,reuserid:this.dia_reuserid,usertype:this.dia_usertype};Object(n["addAgent"])(t).then((function(t){"0"==t.code?(e.$message({type:"success",duration:3e3,message:"添加成功"}),e.dialogFormVisible=!1,e.getAgentList(1),e.clearINput()):e.$message({type:"error",duration:3e3,message:"添加失败"})}))}else{t={userToken:sessionStorage.getItem("token"),alipayname:this.alipayname,alipayid:this.alipayid,mobile:this.dia_mobile,name:this.dia_name,userid:this.dia_userid,usertype:this.dia_usertype};Object(n["editAgent"])(t).then((function(t){console.log(t),"0"==t.code?(e.$message({type:"success",duration:3e3,message:"修改成功"}),e.dialogFormVisible=!1,e.getAgentList(1),e.clearINput()):e.$message({type:"error",duration:3e3,message:"修改失败"})}))}},handleEdit:function(e){this.dialogFormVisible=!0,this.dia_userid=e.userid,this.alipayid=e.alipayid,this.alipayname=e.alipayname,this.dia_mobile=e.mobile,this.dia_reuserid=e.reuserid,this.dia_name=e.username,this.dia_usertype=e.usertypename},handleDel:function(e){console.log(e);var t=this;this.$confirm("确认删除吗?","提示",{type:"warning"}).then((function(){var a={userToken:sessionStorage.getItem("token"),userid:e.userid};Object(n["deleteAgent"])(a).then((function(e){"0"==e.code?(t.$message({type:"success",duration:3e3,message:"删除成功"}),t.getAgentList(1)):t.$message({type:"error",duration:3e3,message:"删除失败"})}))}))},customerToAgent:function(e){console.log(e);var t=this;this.$confirm("客户确认要转代理人吗?","提示",{type:"warning"}).then((function(){var a={userToken:sessionStorage.getItem("token"),userid:e.userid};Object(n["customerToAgent"])(a).then((function(e){"0"==e.code?(t.$message({type:"success",duration:3e3,message:"转代理人成功"}),t.getAgentList(1)):t.$message({type:"error",duration:3e3,message:"转代理人失败"})}))}))},pageClick:function(e){this.pageNum=e,this.getAgentList(e)},addMenu:function(){this.dia_userid="",this.dialogFormVisible=!0},handleClose:function(){this.dialogFormVisible=!1,this.clearINput(),this.getAgentList(1)},cancel:function(){this.dialogFormVisible=!1,this.clearINput(),this.getAgentList(1)},clearINput:function(){this.alipayname="",this.alipayid="",this.dia_mobile="",this.dia_name="",this.dia_reuserid="",this.dia_usertype=""},resetChecked:function(){this.$refs.tree.setCheckedKeys([])}}},o=r,c=(a("944b"),a("2877")),d=Object(c["a"])(o,i,s,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-601c853f.7b911baf.js.map