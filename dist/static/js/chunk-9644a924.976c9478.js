(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9644a924"],{"0366":function(e,t,a){var r=a("1c0b");e.exports=function(e,t,a){if(r(e),void 0===t)return e;switch(a){case 0:return function(){return e.call(t)};case 1:return function(a){return e.call(t,a)};case 2:return function(a,r){return e.call(t,a,r)};case 3:return function(a,r,o){return e.call(t,a,r,o)}}return function(){return e.apply(t,arguments)}}},"159b":function(e,t,a){var r=a("da84"),o=a("fdbc"),i=a("17c2"),n=a("9112");for(var s in o){var l=r[s],u=l&&l.prototype;if(u&&u.forEach!==i)try{n(u,"forEach",i)}catch(c){u.forEach=i}}},"17c2":function(e,t,a){"use strict";var r=a("b727").forEach,o=a("a640"),i=a("ae40"),n=o("forEach"),s=i("forEach");e.exports=n&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1dde":function(e,t,a){var r=a("d039"),o=a("b622"),i=a("2d00"),n=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[],a=t.constructor={};return a[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2d00":function(e,t,a){var r,o,i=a("da84"),n=a("342f"),s=i.process,l=s&&s.versions,u=l&&l.v8;u?(r=u.split("."),o=r[0]+r[1]):n&&(r=n.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=n.match(/Chrome\/(\d+)/),r&&(o=r[1]))),e.exports=o&&+o},"342f":function(e,t,a){var r=a("d066");e.exports=r("navigator","userAgent")||""},4160:function(e,t,a){"use strict";var r=a("23e7"),o=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"65f0":function(e,t,a){var r=a("861d"),o=a("e8b5"),i=a("b622"),n=i("species");e.exports=function(e,t){var a;return o(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?r(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"7b0b":function(e,t,a){var r=a("1d80");e.exports=function(e){return Object(r(e))}},a640:function(e,t,a){"use strict";var r=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,a){var r=a("83ab"),o=a("d039"),i=a("5135"),n=Object.defineProperty,s={},l=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var a=[][e],u=!!i(t,"ACCESSORS")&&t.ACCESSORS,c=i(t,0)?t[0]:l,p=i(t,1)?t[1]:void 0;return s[e]=!!a&&!o((function(){if(u&&!r)return!0;var e={length:-1};u?n(e,1,{enumerable:!0,get:l}):e[1]=1,a.call(e,c,p)}))}},b363:function(e,t,a){},b727:function(e,t,a){var r=a("0366"),o=a("44ad"),i=a("7b0b"),n=a("50c4"),s=a("65f0"),l=[].push,u=function(e){var t=1==e,a=2==e,u=3==e,c=4==e,p=6==e,d=5==e||p;return function(f,m,g,v){for(var w,h,b=i(f),y=o(b),_=r(m,g,3),S=n(y.length),k=0,T=v||s,x=t?T(f,S):a?T(f,0):void 0;S>k;k++)if((d||k in y)&&(w=y[k],h=_(w,k,b),e))if(t)x[k]=h;else if(h)switch(e){case 3:return!0;case 5:return w;case 6:return k;case 2:l.call(x,w)}else if(c)return!1;return p?-1:u||c?c:x}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},bf12:function(e,t,a){"use strict";var r=a("b363"),o=a.n(r);o.a},d81d:function(e,t,a){"use strict";var r=a("23e7"),o=a("b727").map,i=a("1dde"),n=a("ae40"),s=i("map"),l=n("map");r({target:"Array",proto:!0,forced:!s||!l},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},d9ef:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.queryList,border:"","header-cell-style":{background:"#f8f8f9",color:"#606266"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),a("el-table-column",{attrs:{prop:"groupname",align:"center",label:"套餐组名称",width:"210"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.groupname,expression:"scope.row.groupname"},{name:"show",rawName:"v-show",value:t.row.editTable,expression:"scope.row.editTable"}],attrs:{type:"text"},domProps:{value:t.row.groupname},on:{input:function(a){a.target.composing||e.$set(t.row,"groupname",a.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.editTable,expression:"!scope.row.editTable"}]},[e._v(e._s(t.row.groupname))])]}}])}),a("el-table-column",{attrs:{prop:"remark",align:"center",label:"套餐组备注",width:"210"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.remark,expression:"scope.row.remark"},{name:"show",rawName:"v-show",value:t.row.editTable,expression:"scope.row.editTable"}],attrs:{type:"text"},domProps:{value:t.row.remark},on:{input:function(a){a.target.composing||e.$set(t.row,"remark",a.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.editTable,expression:"!scope.row.editTable"}]},[e._v(e._s(t.row.remark))])]}}])}),a("el-table-column",{attrs:{prop:"grouptypename",align:"center",label:"套餐组来源",width:"210"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.grouptypename,expression:"scope.row.grouptypename"},{name:"show",rawName:"v-show",value:t.row.editTable,expression:"scope.row.editTable"}],attrs:{type:"text"},domProps:{value:t.row.grouptypename},on:{input:function(a){a.target.composing||e.$set(t.row,"grouptypename",a.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.editTable,expression:"!scope.row.editTable"}]},[e._v(e._s(t.row.grouptypename))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return e.dia_edit(t.row)}}},[e._v("查看/修改套餐")])]}}])})],1),a("el-pagination",{staticClass:"indexPage",attrs:{background:"","page-size":e.pageSize,"current-page":e.pageNum,layout:"total, prev, pager, next",total:e.pageTotal},on:{"current-change":e.pageClick}}),a("div",{staticClass:"rolesTree"},[a("div",{staticClass:"common_hang"},[a("div",{staticClass:"mech"},[e._v("选择代理人")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}},e._l(e.rolesTree,(function(e){return a("el-option",{key:e.agentid,attrs:{label:e.username,value:e.agentid}})})),1)],1),a("el-button",{attrs:{type:"primary"},on:{click:e.getCheckedKeys}},[e._v("分配")])],1),a("el-dialog",{attrs:{title:"",visible:e.dialogFormVisible,"before-close":e.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"table_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dia_queryList,border:"","header-cell-style":{background:"#f8f8f9",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"planname",align:"center",label:"套餐内容",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.planname))])]}}])}),a("el-table-column",{attrs:{prop:"costprice",align:"center",label:"低价",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.costprice,expression:"scope.row.costprice"},{name:"show",rawName:"v-show",value:t.row.dia_editTable,expression:"scope.row.dia_editTable"}],attrs:{type:"text"},domProps:{value:t.row.costprice},on:{input:function(a){a.target.composing||e.$set(t.row,"costprice",a.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.dia_editTable,expression:"!scope.row.dia_editTable"}]},[e._v(e._s(t.row.costprice))])]}}])}),a("el-table-column",{attrs:{prop:"saleprice",align:"center",label:"售价",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.saleprice,expression:"scope.row.saleprice"},{name:"show",rawName:"v-show",value:t.row.dia_editTable,expression:"scope.row.dia_editTable"}],attrs:{type:"text"},domProps:{value:t.row.saleprice},on:{input:function(a){a.target.composing||e.$set(t.row,"saleprice",a.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.dia_editTable,expression:"!scope.row.dia_editTable"}]},[e._v(e._s(t.row.saleprice))])]}}])}),a("el-table-column",{attrs:{prop:"peakprice",align:"center",label:"最高价",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.peakprice,expression:"scope.row.peakprice"},{name:"show",rawName:"v-show",value:t.row.dia_editTable,expression:"scope.row.dia_editTable"}],attrs:{type:"text"},domProps:{value:t.row.peakprice},on:{input:function(a){a.target.composing||e.$set(t.row,"peakprice",a.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.dia_editTable,expression:"!scope.row.dia_editTable"}]},[e._v(e._s(t.row.peakprice))])]}}])}),a("el-table-column",{attrs:{prop:"balancetype",align:"center",label:"结算类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.balancetypename))])]}}])}),a("el-table-column",{attrs:{prop:"flow",align:"center",label:"流量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.flow))])]}}])}),a("el-table-column",{attrs:{prop:"virtualflow",align:"center",label:"虚量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.virtualflow))])]}}])}),a("el-table-column",{attrs:{prop:"stop_flow",align:"center",label:"提前停卡"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.stop_flow))])]}}])}),a("el-table-column",{attrs:{prop:"plantype",align:"center",label:"套餐模式"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.plantypename))])]}}])}),a("el-table-column",{attrs:{prop:"disrecharge",align:"center",label:"是否显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.disrechargename))])]}}])}),a("el-table-column",{attrs:{prop:"rechargeamount",align:"center",label:"充值金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.rechargeamount))])]}}])}),a("el-table-column",{attrs:{prop:"modifydate",align:"center",label:"更新时间",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.modifydate))])]}}])}),a("el-table-column",{attrs:{label:"套餐操作",align:"center",fixed:"right",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.dia_isEdit,expression:"dia_isEdit"}],attrs:{size:"small",type:"primary"},on:{click:function(a){return e.dia_handleEdit(t.row,t)}}},[e._v("修改")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.dia_isEdit,expression:"!dia_isEdit"}],attrs:{size:"small",type:"primary"},on:{click:function(a){return e.dia_handleSave(t.row)}}},[e._v("保存")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.dia_isEdit,expression:"!dia_isEdit"}],attrs:{size:"small",type:"primary"},on:{click:function(a){return e.dia_tuihui(t.row)}}},[e._v("退回")])]}}])})],1),a("el-pagination",{staticClass:"indexPage",attrs:{background:"","page-size":e.dia_pageSize,"current-page":e.dia_pageNum,layout:"total, prev, pager, next",total:e.dia_pageTotal},on:{"current-change":e.dia_pageClick}})],1)])],1)},o=[],i=(a("4160"),a("d81d"),a("d3b7"),a("159b"),a("4ec3")),n={data:function(){return{queryList:[],rolesTree:[],groupdistributeserialnoArray:"",username:"",dia_queryList:[],dialogFormVisible:!1,dia_isEdit:!0,groupserialno:"",pageTotal:0,pageSize:10,pageNum:1,dia_pageTotal:0,dia_pageSize:10,dia_pageNum:1}},created:function(){this.queryAssignSaleGroup(1),this.queryAgentUser()},methods:{queryAssignSaleGroup:function(e){var t=this,a=this,r={userToken:sessionStorage.getItem("token"),querytype:"02",pageNumber:e,pageSize:this.pageSize};Object(i["queryAssignSaleGroup"])(r).then((function(e){if("1"==e.code)a.$message({type:"error",duration:3e3,message:e.msg});else{var r=e.rows,o=[];r.map((function(e,t){o.push(Object.assign(e,{editTable:!1}))})),t.queryList=o,t.pageTotal=e.total}}))},queryAgentUser:function(){console.log("aaa");var e=this,t={userToken:sessionStorage.getItem("token")};Object(i["queryAgentUser"])(t).then((function(t){console.log(t),"1"==t.code?e.$message({type:"error",duration:3e3,message:t.msg}):e.rolesTree=t.data}))},dia_edit:function(e){this.dia_groupserialno=e.groupserialno,this.dia_grouptype=e.grouptype,this.querySaleplanList(1)},querySaleplanList:function(e){var t=this,a=this;if(console.log(e),""!=this.dia_groupserialno){var r={userToken:sessionStorage.getItem("token"),groupserialno:this.dia_groupserialno,querytype:this.dia_grouptype,pageNumber:e,pageSize:this.dia_pageSize};Object(i["querySaleplanList"])(r).then((function(e){t.dia_queryList=e.rows,t.dia_pageTotal=e.total,a.dialogFormVisible=!0}))}},handleClose:function(){this.dialogFormVisible=!1,this.clearINput(),this.queryAssignSaleGroup(1)},clearINput:function(){this.inputMobile="",this.inputName="",this.userid=""},dia_pageClick:function(e){console.log(e),this.dia_pageNum=e,this.querySaleplanList(e)},pageClick:function(e){this.pageNum=e,this.queryAssignSaleGroup(e)},handleSelectionChange:function(e){console.log(e);var t=[];e.forEach((function(e){t.push(e.groupdistributeserialno)})),this.groupdistributeserialnoArray=t.toString()},getCheckedKeys:function(e){var t=this,a={userToken:sessionStorage.getItem("token"),groupdistributeid:this.groupdistributeserialnoArray,distributeuserid:this.username};Object(i["distributeToUser"])(a).then((function(e){"1"==e.code?t.$message({type:"error",duration:3e3,message:e.msg}):t.$message({type:"success",duration:3e3,message:"分配成功"})}))},dia_handleEdit:function(e,t){e.dia_editTable=!0,this.dia_isEdit=!1},dia_handleSave:function(e,t){e.editTable=!1;var a=this;if(""!=e.planserialno){var r={userToken:sessionStorage.getItem("token"),costprice:e.costprice,saleprice:e.saleprice,peakprice:e.peakprice,distributeserialno:e.distributeserialno};Object(i["updatePlanDistribute"])(r).then((function(e){"0"==e.code?(a.dia_isEdit=!0,a.$message({type:"success",duration:3e3,message:"修改成功"}),a.querySaleplanList(1)):(a.dia_isEdit=!1,a.$message({type:"error",duration:3e3,message:e.msg}))}))}else a.$message({type:"error",duration:3e3,message:"缺少必要参数"})},dia_tuihui:function(){this.dia_isEdit=!0,this.querySaleplanList(1)}}},s=n,l=(a("bf12"),a("2877")),u=Object(l["a"])(s,r,o,!1,null,null,null);t["default"]=u.exports},e8b5:function(e,t,a){var r=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-9644a924.976c9478.js.map